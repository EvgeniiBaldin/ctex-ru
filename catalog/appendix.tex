%  -*- coding: koi8-r -*-

\section*{Установка \TeXLive}
\setcounter{footnote}{0}%сбрасывание нумерации сносок
\addcontentsline{toc}{section}{Установка \TeXLive} 
\label{appendix:install}
%\markboth{Приложение к каталогу пакетов \TeXLive}{Установка \TeXLive}

%\pagestyle{plain}
%\pagestyle{myheadings}
%\pagestyle{fancy} %включаем пользовательский стиль
\fancyhead{}
\fancyhead[RO,LE]{\pagemark}
\fancyhead[RE]{Установка \TeXLive}
\fancyhead[LO]{Приложение к каталогу пакетов \TeXLive}
\fancyfoot{}

На прилагаемом к книге CD записан дистрибутив
\TeXLive-2007. Этот дистрибутив \LaTeX{} всегда можно взять по
адресу \url{http://www.tug.org/texlive/}. 

Для того чтобы упаковать максимально возможный объём дистрибутива 
на~один CD, число поддерживаемых дистрибутивом \TeXLive архитектур 
урезано с пятнадцати
% \footnote{Все поддерживаемые \TeXLive архитектуры,
%   которые перечислены во Введении на стр.~\pageref{list:texlive}
%   доступны при установке с DVD-образа \TeXLive.} 
до трёх:
\smallskip

\begin{eqlist}
\item[i386-linux] "--- GNU/Linux на x86;
\item[powerpc-darwin] "--- MacOSX на PowerPC\footnote{Несмотря на то,
    что \TeXLive можно использовать под Mac~OS~X, по
    возможности  рекомендуется  воспользоваться дистрибутивом Mac\TeX{}
    (\url{http://www.tug.org/mactex/}). 
    Дистрибутив \TeXLive включён в состав этого специализированного 
   дистрибутива.};
\item[win32] "--- 32-битные версии Windows, то есть начиная с 9x и
  далее.
\end{eqlist}

На диске в директории \textfile{texmf-doc/doc/russian/texlive-ru/}
находится подробная документация на русском языке об установке и
поддержке дистрибутива в html- и pdf"=форматах: \textfile{live.html} и
\textfile{live.pdf} соответственно. Если установка этого дистрибутива
производится в первый раз, то настоятельно рекомендуется изучить этот
текст.

\subsection*{GNU/Linux}
\label{sec:gnulinux}

В современных версиях GNU/Linux, например, в Debian (Lenny), \TeXLive
может идти как дистрибутив \LaTeX{} по умолчанию. В этом случае нет
необходимости заниматься установкой, хотя это ещё может зависеть от
версии \TeXLive.

Для распаковки и установки дистрибутива в системах GNU/Linux или
Mac~OS~X следует  из корневой директории CD запустить скрипт:
\begin{lstlisting}[language=bash,frame=]
> sh ./install-tl.sh
\end{lstlisting}

Программа установки работает в текстовом режиме. В процессе установки
имеет смысл обратить особое внимание на директорию, куда будет
произведена установка. По умолчанию предлагается установить
на диск абсолютно всё. При этом будет занято около 1~Гб дискового
пространства. Не следует на этом экономить, хотя всегда после
установки можно будет добавить недостающие пакеты. 

Для того чтобы в дальнейшем гарантировано использовать исполняемые
файлы из установленного дистрибутива, следует добавить путь до них в
начало списка директорий переменной PATH, например, так:
\begin{lstlisting}[language=bash,frame=]
# для bash лучше в .bash_profile
> TEXLIVE=/usr/local/texlive/2007/
> PATH=$TEXLIVE/bin/i386-linux:$PATH
> export PATH
\end{lstlisting}

При редактировании tex-файла лучше воспользоваться любимым текстовым
редактором. Все более-менее распространённые текстовые редакторы имеют
поддержку \LaTeX. Если на момент установки <<любимый редактор>>
отсутствует, то следует присмотреться к родному из двух основных:
\textprog{emacs}\footnote{Поддержка \LaTeX{} реализована в стандартных
  расширениях Auc\TeX{} и Ref\TeX. Визуализация формул и картинок
  реализована в пакете preview-latex.} или \textprog{vim}. И тот и
другой заслуживают изучения, так как это больше, чем просто текстовые
редакторы. Также может оказаться, что для целей редактирования
удобнее будет воспользоваться специализированным программным пакетом
Kile (KDE Integrated \LaTeX{} Environment) или даже LyX
(WYSIWYM текстовый процессор).


\subsection*{Windows\protect\footnote{Если вы планируете использовать
    \LaTeX, то, возможно, имеет смысл приглядеться к~GNU/Linux в
    качестве основной платформы. Но это уже совсем другая история \smiley.}}
\label{sec:windows}

Под операционной системой Windows наиболее популярен дистрибутив
MiK\TeX{} (\url{http://www.miktex.org/}). Так как все дистрибутивы
\LaTeX{} <<растут>> от одного корня CTAN, то обзор пакетов \TeXLive
вполне применим и к обзору пакетов MiK\TeX.

\fxnote{setuptl под windows видится не так.}

Для установки дистрибутива \TeXLive в среде Windows нужно
воспользоваться программой установки \textprog{tlpmgui.exe}, которая
находится в директории \textfile{setup-win32} установочного диска. Она
также запускается при вставке CD, если в системе разрешён автозапуск.

Процесс установки не сложен. При запуске \textprog{tlpmgui.exe}
следует выбрать полную установку (scheme-full) или, так как по
умолчанию поддержка русского языка отсутствует, выбрать русский язык
вручную с помощью кнопки <<Language Collection>>. После того как будет
нажата кнопка Install, возникнет запрос на~установку пакета
\textprog{perl} "--- это необходимо, если поддержки данного языка в
системе нет. После положительного ответа на этот вопрос можно уйти
попить чаю часа на~полтора (время зависит от мощности компьютера). В
конце установки программа поинтересуется, надо ли устанавливать
GhostScript для работы с~PostScript и программу просмотра dvi"=файлов
"--- \textprog{dviout}. Если эти пакеты в системе отсутствуют, то их
надо установить. 

После полной установки имеет смысл перезагрузиться. Для более подробной
информации следует обратиться к документации по установке, упомянутой
в~начале приложения.

Кроме непосредственно установки дистрибутива \LaTeX{} в случае Windows
необходимо добавить некоторое количество сторонних программ для
просмотра и редактирования.
\begin{itemize}
\item \textprog{gsview} (\url{http://www.ghostgum.com.au/}). Это
  бесплатная программа для просмотра файлов в формате
  PostScript. Исходники программы есть в открытом доступе, но бинарная
  сборка с авторского сайта включает всплывающее окно при каждом
  запуске программы с настоятельной просьбой зарегистрироваться.
\item \textprog{Adobe Reader} (\url{http://www.adobe.com/products/reader/}) "---
  кроссплатформенная бесплатная  программа просмотра pdf"=файлов.
\item Редактор для редактирования tex-исходников. Варианты:
  \begin{itemize}
  \item \textprog{TeXnicCenter} (\url{http://www.toolscenter.org/})
    "--- свободный редактор с частично открытыми исходниками. После
    установки придётся настроить как минимум просмотр dvi"=файлов;
  \item \textprog{WinEdt} (\url{http://www.winedt.com/}) "---
    популярный ShareWare текстовый редактор. Начиная с версии 5.5,
    сконфигурирован в том числе и для работы с \TeXLive-2007;
  \item \textprog{Notepad\texttt{++}}
    (\url{http://notepad-plus.sourceforge.net/ru/site.htm}) "---
    простейший тестовый редактор, который только редактирует текст;
  \item можно установить тот же \textprog{emacs} или \textprog{vim},
    как в GNU/Linux. % Имеет смысл это сделать, только в случае
%     знакомства с данными редакторами;
  \end{itemize}
\end{itemize}

В дистрибутиве \TeXLive-2007 за год его существования было обнаружено
некоторое количество ошибок. Известные проблемы перечислены на
страничке дистрибутива \url{http://tug.org/texlive/bugs.html}.
\bigskip

\Note  К сожалению, одна из этих проблем напрямую
связана с использованием кириллицы. Автоматически не исполняется
\textprog{mktexmf} при запуске \TeX"=программ. При этом в частности
возникают проблемы с использованием кириллических шрифтов
\textpkg{lh}. 

В качестве обходного решения предлагается изменить настройки по
умолчанию в файле \textfile{texmf.cnf}. Нужно установить следующие
значения для переменных:
\begin{lstlisting}[language=Clean]
 MKTEXPK = 1
 MKTEXMF = 1
 MKTEXTFM = 1
 MKTEXFMT = 1
\end{lstlisting}

Этот конфигурационный файл по умолчанию располагается в директории
\\\textfile{/TeXLive2007/texmf-var/web2c/}.  Его также можно найти с
помощью команды
\begin{lstlisting}[language=bash,frame=]
> kpsewhich texmf.cnf
\end{lstlisting}

Ошибки проявляются всё равно. Это происходит при первой компиляции
текста с помощью \textprog{latex}, когда автоматически генерируются ещё ни
разу не использованные шрифты.  Но если эти ошибки
игнорировать\footnote{Если компиляция происходит в командной строке,
  то на запрос после информации об~ошибке следует нажать клавишу Q и
  перевод строки (to run quietly). Если компиляция происходит
  средствами редактора, то ничего этого делать не надо.}, то dvi"=файл
получается нормальным. При последующих компиляциях, когда шрифты уже 
в наличии, проблем не возникает.

\endinput

Чтобы кириллизовать \LaTeX{} необходимы шрифты. Благодаря Ольге Лапко
на свете есть шрифты семейства \texttt{lh}, которые отлично
согласуется с базовыми шрифтами Computer Modern. Мало иметь просто
кириллические буквы "--- надо чтобы их начертания соответствовали и
другим шрифтам, в том числе и математическим. В 2001 году Владимир
Волович проделал огромную работу по переводу \METAFONT-шрифтов в
формат Type1, что теперь позволяет создавать не только хорошие
печатные копии, но и вполне качественные электронные pdf-версии
документов.

    На настоящий момент на рынке кириллических шрифтов
существует только один продавец~--- это ParaType.  Остальные (в том
числе и <<свободные>> сайты типа Vedi или Litera) предлагают в основном
акцидентные шрифты, для набора текстов не пригодные. С ценами Paratype
можно ознакомится, естественно, на 
\htmladdnormallink{www.paratype.com}{http://www.paratype.com}
Однако при
отборе шрифтов надо очень внимательно прочитать лицензию и
договор\footnote{То есть, какие реально у вас будут права,
какие реально есть гарантии и какую реально поддержку и сопровождение
обеспечивает Paratype.}. Кроме того, необходимо
озаботиться грамотным подбором гарнитур для начертаний
\texttt{\bs rm}, \texttt{\bs sf},
\texttt{\bs sc}, \texttt{\bs tt } так, чтобы они были
совместны. Иначе можно было бы ограничиться <<свободной Литературной>>
от ParaType, но вопрос: откуда взять замену всем остальным ТеХовским
шрифтам?!



% Date: Wed, 7 Mar 2007 11:25:17 +1000
% From: "[utf-8] Андрей Панов" <CyrTeX-ru@vsu.ru>
% To: Cyrillic TeX Users Group <CyrTeX-ru@vsu.ru>
% Subject: cm-super и BlueValues
% Parts/Attachments:
%    1 Shown    ~24 lines  Text (charset: UTF-8)
%    2         ~1.9 KB     Application
%    3 Shown      4 lines  Text
% ----------------------------------------

%     [ The following text is in the "utf-8" character set. ]
%     [ Your display is set for the "koi8-r" character set.  ]
%     [ Some characters may be displayed incorrectly. ]

% BlueValues несложно добавить к cm-super с помощью fontforge. Для этого надо 
% скопировать все pfb и afm файлы в отдельную директорию, разархивировав их при 
% необходимости. Затем там же нужно запустить прикреплённый shell-скрипт. У 
% меня на весьма устаревшем компьютере всё это заняло не более получаса.

% -- 
% Андрей Панов
% panov /@/ canopus.iacp.dvo.ru


% >> http://www.ctan.org/tex-archive/fonts/tex-gyre/

% EMB> Спасибо попробую. Они у меня оказываются на диске уже лежат :)

% EMB> Вопрос: как они согласуются с математикой?

% EMB> С уважением
% EMB>         Евгений

% Я сам не пробовал, но думаю, что так же, как и латинские 35 Adobe
% шрифтов. Латинские шрифты не согласуются с математическими Computer
% Modern. Есть много способов обойти эту проблему, например, в случае,
% когда основной текстовый шрифт Times New Roman

% \usepackage{mathptmx}

% или

% \usepackage{txfonts}

% Насколько я понимаю, ни dvips, ни PDFLaTeX не понимают шрифтов Open
% Type. Поэтому их надо конвертировать в формат PFB, например, так

% http://www.tug.org/pipermail/macostex-archives/2005-August/016752.html

% -- 
% Best regards,
%  Anatoliy                            mailto: anatoliy.malyarenko at mdh.se

Правда там ещё нужно сделать пару штрихов (в cm-super нет BlueValues и
acroreadу это временами не нравится), чтобы всё было нормально:
https://info.vsu.ru/Lists/CyrTeX-ru/Message/4220.html - который
следует напустить на cm-super

Андрей Панов говорил: BlueValues несложно добавить к cm-super с
помощью fontforge. Для этого надо скопировать все pfb и afm файлы в
отдельную директорию, разархивировав их при необходимости. Затем там
же нужно запустить прикреплённый shell-скрипт. У меня на весьма
устаревшем компьютере всё это заняло не более получаса.


%%% Local Variables: 
%%% mode: latex
%%% TeX-master: "../ctex"
%%% End: 

