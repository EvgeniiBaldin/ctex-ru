%  -*- coding: koi8-r -*-
\section{Химия}
\label{sec:chemistry}

Великий Л.\,Д.~Ландау говорил: <<Всё, что в химии научного  "--- это
физика, а остальное "--- кухня>>. Естественно, он был не прав, но то,
что химики должны владеть и математикой, и физикой "--- это так.


\subsection{Лабораторные работы}
\label{sec:chemistry:lab}


При взгляде со стороны создаётся впечатление, что студенты-химики
только и делают, что лабораторные работы. Оформление внятных
методических материалов для этих занятий  "--- весьма не простой вид
деятельности. Набор макросов \textpkg{PSTricks}, собранный в пакете
\textpkg{pst-labo}, аналогичный наборам из раздела~\ref{sec:physics:lab},
может значительно помочь в этом благородном деле.


\noindent
\includegraphics{science/chemistry-pst-labo.eps}
\smallskip

Информацию о том, как рисовать колбы, горелки, различные цвета и
консистенцию для смесей, трубки и многое другое, можно найти в файле
документации \textfile{pst-labo-docEN.pdf}.


\subsection{Химические формулы}
\label{sec:chemistry:elements}

Первое, с чем сталкивается интересующийся при знакомстве с химией, "---
это огромное количество названий и сокращений для элементов и их
соединений. Даже физика высоких энергий с её зоопарком элементарных
частиц не идёт с~этим разнообразием ни в какое сравнение. 

Для эпизодического набора химических формул достаточно стандартного
математического окружения \LaTeX. Нужно только установить
прямое начертание для символов:
\begin{example}[0.6\textwidth]{chem-simple}
 \(\frac{1}{2}\mathrm{H}_2\mathrm{O}\) или
 \(3\,\mathrm{Cr}_2\mathrm{O}_7^{2-}\)
\end{example}
Не очень удобно, но вполне терпимо в случае небольших фрагментов.




\subsubsection{mhchem}
\label{sec:chemistry:mhchem}

Пакет \textpkg{mhchem} состоит из двух стилевых файлов:
\textfile{mhchem.sty} и \textfile{rsphrase.sty}. В стиле
\textpkg{mhchem} определены команды \textcmd{ce} и
\textcmd{bond}, предназначенные для создания химических молекулярных
формул и выражений. Инициализация пакета:
% Для его загрузки  требуется добавить в преамбулу
% следующую команду:
\begin{lstlisting}
\usepackage[version=3]{mhchem}
\end{lstlisting}

Номер версии необходим для гарантии обратной совместимости. Так как
автор уже как минимум дважды серьёзно изменял действие своих команд,
то нет никакой гарантии, что он не сделает это в будущем. 

Набор молекулярных формул производится внутри команды \textcmd{ce}
более-менее естественным для химиков способом:
\begin{center}
  \includegraphics{science/chemistry-mhchem.eps}
\end{center}

Связи внутри химической формулы можно указать и другими способами 
с~помощью макроса \textcmd{bond}:
\begin{examplenv}[0.6\textwidth]{mhchem-bond}
\ce{A\sbond B\dbond C\tbond D}\\
\ce{A\bond{-}B\bond{=}C\bond{#}D}\\
\ce{A\bond{~}B\bond{~-}C}\\
\ce{A\bond{~=}B\bond{~--}C\bond{-~-}D}\\
\ce{A\bond{...}B\bond{....}C}\\
\ce{A\bond{->}B\bond{<-}C}
\end{examplenv}
\Note Используемый для создания прерывистой линии макрос приводит к
некорректному отображению символов при просмотре dvi-файла.

Внутри команды \textcmd{ce} допускается использование математики, а
также самой команды \textcmd{ce}. Дополнительно внутри неё определены
простые естественные сокращения для стрелок, используемых для
написания химических уравнений.

\begin{examplenv}[0.55\textwidth]{mhchem-equation}
 \centering
 \ce{CO2 + C -> 2CO}\\
 \ce{CO2 + C <- 2CO}\\
 \ce{CO2 + C <=> 2CO}\\
 \ce{H+ + OH- <=>> H2O}\\
 \ce{$A$ <-> $A'$}\\
 \ce{CO2 + C ->[\alpha] 2CO}\\
 \ce{CO2 + C ->[\alpha][\beta] 2CO}\\
 \ce{$A$ ->[\ce{+H2O}] $B$}
\end{examplenv}

Стиль \textpkg{rsphrase} содержит маркировку и расшифровку (Risk and
Safety Phrases) для опасных химических соединений на разных
языках. Русский среди них отсутствует, но локализация возможна.
Документация находится в файле \textfile{mhchem.pdf}.


% \subsection{Нумерация химических соединений}
% \label{sec:chemistry:number}

% \subsubsection{chemcompounds}
% \label{sec:chemistry:chemcompounds}

% \FullVersion\textpkg{chemcompounds} "--- простая последовательная нумерация
% химических соединений. Возможно присвоение соединению своего
% уникального имени.

% \subsubsection{chemcono}
% \label{sec:chemistry:chemcono}

% \FullVersion\textpkg{chemcono} "---  нумерация химических соединений по принципу
% организации библиографических ссылок.

% * ppchtex - A separate module of the context macro package for TeX
% that can be used to typeset chemical formulas
\subsection{Структурные формулы}
\label{sec:chemistry:struct}

Одна из самых первых попыток расширить возможности \TeX{} за пределы
разбиения строк на хорошие абзацы была связана именно с изображением
структурных формул. Так появился \textpkg{chemtex}. Но это было давно
и на смену ему пришёл \textpkg{xymtex}.


\textpkg{xymtex} "--- пакет для отображения средствами \LaTeX{}
множества химических структурных формул. Качество получающихся формул
по отзывам очень высокое и кое в чём превосходит традиционные
коммерческие аналоги.  Другое дело, что набор структурных химических
формул достаточно сложен. Возможно, создание промежуточной
GUI"=программы, которая использовала бы этот пакет, было бы оптимальным
решением данной проблемы. К сожалению, \textpkg{xymtex} отсутствует в
дистрибутиве \TeXLive и последнюю версию пакета следует брать 
по~адресу
\url{http://homepage3.nifty.com/xymtex/fujitas3/xymtex/indexe.html}.


Со странички автора следует скачать архив
\textfile{xymtex403b.lzh}. Для его распаковки потребуется популярный в
Японии (автор родом из Японии) архиватор \textprog{lha}. После
распаковки директорию \textpath{xymtex} следует скопировать в
локальную \textfile{texmf}"=директорию и перегенерировать индексные файлы:
\begin{lstlisting}[language=bash,frame=]
# Распаковка архива
> lha x xymtex403b.lzh
# Копирование директории xymtex
> cp -r xymtex |<<texmf-local>>|
# Обновление индексов
> texhash
\end{lstlisting}

Теперь можно  использовать пакет по прямому назначению. Документацию
\textfile{xymtx402403.pdf} можно найти в поддиректории
\textpath{doc402403}. Она написана несколько тяжеловато, и способ
задания формул может показаться непривычным:
\begin{lstlisting}[]
%\usepackage{xymtexps} % Преамбула
%\usepackage{chmst-ps}
% Тело документа
% Формула Адонитоксина
\begin{XyMcompd}(2100,1800)(200,0){}{}
 \pyranose{1Sa|==|H;2Sb|==|H;2Sa|==|OH;3Sb|==|H;3Sa|==|OH;
           4Sb|==|HO;4Sa|==|H;5Sb|==|H;5Sa|==|CH$_{3}$;%
           1Sb|==|%
  \ryl(8|==|O){3|==|%
      \steroid{3|==|(yl);5A|==|H;8B|==|H;9A|==|H;%
              {{10}B}|==|\lmoiety{OHC};{{14}A}|==|OH;%
              {{13}B}|==|\lmoiety{H$_{3}$C};{{16}B}|==|OH;%
              {{17}B}|==|\fiveheterov[e]{3|==|O}{4D|==|O;1|==|(yl)}
              }
            }
          }
\end{XyMcompd}
\end{lstlisting}
Зато в результате получается, примерно, следующее:
\begin{figure}[H]
  \centering
  \includegraphics[width=0.6\textwidth]{science/chemistry-xymtex.eps}
  \caption{Структурная формула адонитоксина}
  \label{fig:xymtex}
\end{figure}

\Note Надстройка над этим пакетом в виде GUI-программы была бы весьма
кстати.







%%% Local Variables: 
%%% mode: latex
%%% TeX-master: "../ctex"
%%% End: 
